> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mit-public-courses-cn-translatio.gitbook.io](https://mit-public-courses-cn-translatio.gitbook.io/mit6-s081/lec16-file-system-performance-and-fast-crash-recovery-robert/16.1-why-logging)

Copy

1.  [Lec16 File system performance and fast crash recovery (Robert)](/mit6-s081/lec16-file-system-performance-and-fast-crash-recovery-robert)

16.1 Why logging
================

今天这节课也是讲解文件系统的logging，这节课讲的是Linux中的广泛使用的ext3文件系统所使用的logging系统，同时我们也会讨论在高性能文件系统中添加log需要面对的一些问题。首先我会花几分钟来回顾一下，为什么我们要学习logging。

*   之所以我们认为logging很重要，是因为这是一个巨大的成功和重要的思想，几乎可以认为logging是一种魔法，它可以用在任何一个已知的存储系统的故障恢复流程中，它在很多地方都与你想存储的任何数据相关。所以你们可以在大量的存储场景中看到log，比如说数据库，文件系统，甚至一些需要在crash之后恢复的定制化的系统中。
    
*   你们也可以发现log作为从故障中恢复的机制，在分布式系统中也有大量的应用。因为log是一种可以用来表示所有在crash之前发生事情的数据结构，如果能够理解log，那么就可以更容易的从crash中恢复过来。
    
*   除此之外，当你尝试构建高性能logging系统时，log本身也有大量有意思的地方。
    

![](https://mit-public-courses-cn-translatio.gitbook.io/mit6-s081/~gitbook/image?url=https%3A%2F%2F1977542228-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-legacy-files%2Fo%2Fassets%252F-MHZoT2b_bcLghjAOPsJ%252F-MSz80J0lyHlTiGHLOyp%252F-MSz8kRqhsDRBEcle6ko%252Fimage.png%3Falt%3Dmedia%26token%3D0be25b1c-2b34-4ea6-9e53-c6f932653e3d&width=768&dpr=4&quality=100&sign=1cf7763a&sv=2)

这里有一个术语，当我们谈到log时，与今天阅读的[论文](https://pdos.csail.mit.edu/6.828/2020/readings/journal-design.pdf)所用到的journal是同一件事情，它们是同义词。除此之外，今天的论文是有关向ext2增加journal，并得到ext3文件系统（注，所以可以认为ext3文件系统就是ext2加上了logging系统）。

接下来我将从这几个方面来讨论ext3文件系统：某种程度上将其与XV6进行对比；解释ext3是如何修复XV6的logging存在的性能问题；解释ext3在故障恢复时语义上的一些变化。

[PreviousLec16 File system performance and fast crash recovery (Robert)](/mit6-s081/lec16-file-system-performance-and-fast-crash-recovery-robert)[Next16.2 XV6 File system logging回顾](16.2-xv6-file-system-logging-hui-gu.md)

Last updated 4 years ago

Was this helpful?
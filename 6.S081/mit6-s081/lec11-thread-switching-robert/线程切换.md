[[11.1-thread#^cd9144|线程]]：串行执行代码的单元
为什么需要多线程？
- 期望计算机同时可以执行多个任务
- 多线程可以让程序结构变得简单
- 多线程可以通过并行运算，让多核cpu拥有更快执行速度。

线程状态的三个部分：
- 程序计数器
- 寄存器
- 程序的stack

多线程并行的两个策略：
- 多核处理器上使用多个cpu
- 一个cpu在多个线程之间来回切换

线程系统的两种设计
- 共享内存 - 内核线程
- 非共享内存 - 用户线程

线程系统的挑战：
- 如何实现线程间切换
- 决定线程的哪些信息需要保存、在哪保存。
- 如何处理运算密集型线程

线程调度时，线程种类
- 当前运行在cpu上的线程-RUNNING
- 一旦cpu有空闲就想运行在cpu上的线程-RUNABLE
- 不想运行在CPU上的线程-SLEEPING

线程切换
1. 第一个用户进程进入内核。
2. 第一个用户进程内核线程切换为第二个用户进程的内核线程
3. 第二个用户进程的内核线程暂停并恢复用户进程寄存器
4. 返回用户进程继续执行
**复制一个已经打开的文件描述符（file descriptor, FD）**。

---

### 🔹 一、基本概念

在 Unix 系统中，每个进程维护一个“打开文件表”，每个打开的文件对应一个整数型文件描述符（FD）：
<!--ID: 1764664441622-->


|描述符|含义|
|---|---|
|0|标准输入（stdin）|
|1|标准输出（stdout）|
|2|标准错误（stderr）|

---

### 🔹 二、`dup()` 的作用

`dup(oldfd)` 会创建一个新的文件描述符，它与 `oldfd` 指向**同一个文件表项**，也就是说它们共享：
<!--ID: 1764664441625-->


- 文件偏移量（read/write 指针）；
    
- 打开模式（读/写）；
    
- 文件状态标志。
    

但是，它们的描述符号不同。

**示例：**

c

复制编辑

`int fd0 = open("/dev/console", O_RDWR); int fd1 = dup(fd0); int fd2 = dup(fd0);`

执行完后：

- `fd0`、`fd1`、`fd2` 都指向同一个打开的文件对象 `/dev/console`；
    
- 任何一个写入或读取操作都会影响相同的文件偏移。
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [www.studycpp.cn](https://www.studycpp.cn/basic/chapter2/preprocess/)

#define 的作用范围
-------------
<!--ID: 1764664441315-->


#define 在编译之前解析，从文件中，从上到下，逐个文件进行处理。

考虑以下程序：
<!--ID: 1764664441319-->


尽管 #define MY_NAME “Fly” 是在函数 foo 中定义的，但预处理器不理解 C++ 概念（如函数）。因此，该程序的行为与 #define MY_NAME “Fly” 在函数 foo 之前或之后定义的程序相同。为了可读性，通常需要在函数外部设置 #define。

一旦预处理器处理完成，该文件中定义的所有 #define 定义的标识符将被丢弃。意味着指令仅从定义点到定义它们的文件末尾有效。在一个代码文件中定义的指令不会影响同一项目中的其他代码文件。

考虑以下示例：

function.cpp：

```
#include <iostream>

int main()
{
    std::cout << "Hello, world!\n";
    return 0;
}
```

main.cpp：

上述程序将打印：

```
#define 标识符
#define 标识符 替换文本
```

PRINT 是在 main.cpp 中定义的，对 function.cpp 的代码没有任何影响（PRINT 只是从定义点到 main.cpp 末尾定义有效）。